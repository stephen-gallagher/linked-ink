(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){},129:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(17),n=a.n(s),r=(a(72),a(8)),l=a(2),i=(a(73),a(7)),o=a(6),j=a.n(o),b=function(e,t,a,c,s,n,r,l,i,o){return j.a.post("/api/auth/signup",{role:e,username:t,password:a,profilePicture:c,firstName:s,lastName:n,aboutMe:r,tattooStyle:l,favouriteStyles:i,userCollections:o}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},d=a(0);function u(e){var t=function(){j.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){e.setUser(null)}))};return Object(d.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:[Object(d.jsx)(i.b,{to:"/",className:"navbar-brand",children:"Tattoo Finder"}),Object(d.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavDropdown","aria-controls":"navbarNavDropdown","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(d.jsx)("span",{className:"navbar-toggler-icon"})}),Object(d.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNavDropdown",children:Object(d.jsxs)("ul",{className:"navbar-nav",children:[Object(d.jsx)("li",{className:"nav-item active",children:Object(d.jsxs)(i.b,{to:"/explore",className:"nav-link",children:["Explore ",Object(d.jsx)("span",{className:"sr-only"})]})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/all-artists",className:"nav-link",children:"Find an Artist"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/all-studios",className:"nav-link",children:"Find a Studio"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/:id/artist-dashboard",className:"nav-link",children:"My Dashboard"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/:id/artist-profile",className:"nav-link",children:"My Profile"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/login",className:"nav-link",children:"Log In"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/",onClick:function(){return t()},className:"nav-link",children:"Log out"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/signup",className:"nav-link",href:"#",children:"Sign up"})}),Object(d.jsxs)("li",{className:"nav-item dropdown",children:[Object(d.jsx)(i.b,{to:"/",className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Search"}),Object(d.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdownMenuLink",children:[Object(d.jsx)("a",{className:"dropdown-item",href:"/all-artists",children:"Find an Artist"}),Object(d.jsx)("a",{className:"dropdown-item",href:"/all-studios",children:"Find a Studio"})]})]})]})})]})}function m(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(""),o=Object(l.a)(r,2),b=o[0],u=o[1];Object(c.useEffect)((function(){j.a.get("/api/crud/tattoos").then((function(e){console.log("tattoos",e.data),n(e.data)})).catch((function(e){return console.log(e)}))}),[]);return console.log(e),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("h1",{children:"Explore"}),Object(d.jsx)("h2",{children:"Browse through the list of images below to find inspiration for your next tattoo"}),Object(d.jsx)("h3",{children:"Click an image for more information"}),Object(d.jsx)("label",{className:"mt-4 p-2",children:"Search through the images using keywords: "}),Object(d.jsx)("input",{type:"text",name:"search",id:"search",value:b,placeholder:"Search By Name",onChange:function(e){e.preventDefault(),u(e.target.value);var t=s.filter((function(e){return"".concat(e.tags).toLowerCase().includes(b.toLowerCase())}));n(t)}}),Object(d.jsxs)("p",{children:['Showing search results for: "',b,'"']})]}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"col-12 d-flex flex-wrap",children:s.map((function(e){return Object(d.jsx)("div",{className:"p-2",children:Object(d.jsx)(i.b,{to:"/tattoos/".concat(e._id),children:Object(d.jsx)("img",{className:"artist-image rounded border border-dark shadow",src:e.imageURL,style:{width:"330px",height:"330px"}})})})}))})})]})}function h(e){var t=Object(c.useState)([]),a=Object(l.a)(t,2),s=a[0],n=a[1];return Object(c.useEffect)((function(){j.a.get("$/api/crud").then((function(e){console.log(e.data),n(e.data)})).catch((function(e){return console.log(e)}))}),[]),console.log(e),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Find and book your new tattoo"})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{children:"I am..."}),Object(d.jsx)("div",{children:Object(d.jsx)(i.b,{to:"/signup",children:"Sign up"})}),Object(d.jsx)("div",{className:"col-12 d-flex flex-wrap",children:s.map((function(e){return Object(d.jsx)("div",{className:"p-2",children:Object(d.jsx)("img",{className:"artist-image rounded border border-dark shadow",src:e.imageURL,style:{width:"330px",height:"330px"}})})}))})]})]})}var O=a(9);function x(e){var t=e.onChange;return Object(d.jsxs)("label",{className:"toggle-switch",children:[Object(d.jsx)("input",{type:"checkbox",onChange:t}),Object(d.jsx)("span",{className:"switch"})]})}var f=a(18),p=a(22),g=j.a.create({baseURL:"http://localhost:5005/api"}),v=function(e){throw e},N=function(e){return g.post("/crud/upload",e).then((function(e){return e.data})).catch(v)},y=function(e){return g.post("/crud/tattoos/create",e).then((function(e){return e.data})).catch(v)},w=function(e){return g.post("/crud/profile-picture/update",e).then((function(e){return e.data})).catch(v)};function S(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(""),i=Object(l.a)(r,2),o=i[0],j=i[1],u=Object(c.useState)(""),m=Object(l.a)(u,2),h=m[0],O=m[1],g=Object(c.useState)(""),v=Object(l.a)(g,2),y=v[0],w=v[1],S=Object(c.useState)(""),C=Object(l.a)(S,2),k=C[0],F=C[1],U=Object(c.useState)(""),A=Object(l.a)(U,2),D=A[0],L=A[1],E=Object(c.useState)(""),T=Object(l.a)(E,2),R=T[0],P=T[1],_=Object(c.useState)(""),M=Object(l.a)(_,2),q=M[0],I=M[1],B=Object(c.useState)("Artist"),W=Object(l.a)(B,2),J=W[0],V=W[1],Y=Object(c.useState)(""),z=Object(l.a)(Y,2),G=z[0],H=(z[1],Object(c.useState)("")),Q=Object(l.a)(H,2),Z=Q[0],$=Q[1],K=Object(c.useState)(!1),X=Object(l.a)(K,2),ee=X[0],te=X[1],ae=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageURL",e.target.files[0]),N(t).then((function(e){O(e.secure_url)})).catch((function(e){return console.log("Error when uploading the file: ",e)}))},ce=Object(p.a)(),se=[{value:"Traditional",label:"Traditional/Old School"},{value:"NeoTraditional",label:"Neo Traditional"},{value:"Stick & Poke",label:"Stick & Poke"},{value:"Tribal",label:"Tribal"},{value:"WaterColor",label:"Water Color"},{value:"Blackwork",label:"Blackwork"},{value:"Realism",label:"Realism"},{value:"Japanese",label:"Japanese"},{value:"Geometric",label:"Geometric"},{value:"MicroTattoo",label:"Micro Tattoo"},{value:"Abstract",label:"Abstract"},{value:"3D",label:"3D"},{value:"Cartoon",label:"Cartoon"},{value:"Portrait",label:"Portrait"},{value:"Continuous Line",label:"Continuous Line"},{value:"Animal",label:"Animal"},{value:"Sketch",label:"Sketch"},{value:"Other",label:"Other"}];return Object(d.jsxs)("div",{className:"signupPage mt-5",children:[Object(d.jsx)("h3",{children:"I am..."}),Object(d.jsxs)("div",{className:"d-flex justify-content-center",children:[Object(d.jsx)("h4",{children:"A tattoo artist"}),Object(d.jsx)(x,{onChange:function(e){te(e.target.checked),V("User")}}),Object(d.jsx)("h4",{children:"Looking for a tattoo"})]}),ee?Object(d.jsx)("div",{className:"container d-flex justify-content-center align-items-center mt-5 mb-5",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("h1",{className:"text-center",children:"Create a user account"}),Object(d.jsx)("div",{className:"col-md-6 offset-md-3 col-xl-6 offset-xl-3",children:Object(d.jsxs)("div",{className:"card shadow",children:[Object(d.jsx)("img",{src:"/tattoo-images/tattoo-group-1.jpeg",alt:"tattoo-girl",className:"card-img-top"}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:"Enter your details here"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b(J,s,o,h,y,k,q,D,R,G).then((function(t){t.message?(n(""),j(""),$(t.message)):(e.setUser(t),e.history.push("/".concat(t._id,"/user-dashboard")))})).catch((function(e){return console.log(e)}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"username",value:s,required:!0,autoFocus:!0,onChange:function(e){return n(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"password",children:"Create password: "}),Object(d.jsx)("input",{className:"form-control",type:"password",name:"password",value:o,required:!0,onChange:function(e){return j(e.target.value)}}),Object(d.jsx)("div",{className:"valid-feedback",children:"Looks good!"})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"profilePicture",children:"Profile picture: "}),Object(d.jsx)("input",{className:"form-control",type:"file",name:"profilePicture",onChange:ae}),h&&Object(d.jsx)("img",{src:h,alt:"",style:{height:"200px"}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"favouriteStyles",children:"Favourite tattoo styles: "}),Object(d.jsx)(f.a,{name:"favouriteStyles",components:ce,isMulti:!0,options:se,onChange:function(e){var t=e?e.map((function(e){return e.value})):[];P(t)}})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("button",{className:"btn btn-success btn-block col-12",type:"submit",children:"Sign Up"})}),Z&&Object(d.jsx)("h3",{children:Z})]})]})]})})]})}):Object(d.jsx)("div",{className:"container d-flex justify-content-center align-items-center mt-5 mb-5",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("h1",{className:"text-center",children:"Create an artist account"}),Object(d.jsx)("div",{className:"col-md-6 offset-md-3 col-xl-6 offset-xl-3",children:Object(d.jsxs)("div",{className:"card shadow",children:[Object(d.jsx)("img",{src:"/tattoo-images/tattoo-arm-3.jpeg",alt:"tattoo-girl",className:"card-img-top"}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:"Enter your details here"}),Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b(J,s,o,h,y,k,q,D,R,G).then((function(t){t.message?(n(""),j(""),$(t.message)):(e.setUser(t),e.history.push("/".concat(t._id,"/artist-profile")))})).catch((function(e){return console.log(e)}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"username",value:s,onChange:function(e){return n(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"password",children:"Create password: "}),Object(d.jsx)("input",{className:"form-control",type:"password",name:"password",value:o,onChange:function(e){return j(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"profilePicture",children:"Profile picture: "}),Object(d.jsx)("input",{className:"form-control",type:"file",name:"profilePicture",onChange:ae}),h&&Object(d.jsx)("img",{src:h,alt:"",style:{height:"200px"}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"firstName",children:"First Name: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"firstName",value:y,onChange:function(e){return w(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"lastName",children:"Last Name: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"lastName",value:k,onChange:function(e){return F(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"tattooStyle",children:"Tattoo style: "}),Object(d.jsx)(f.a,{name:"tattooStyle",components:ce,isMulti:!0,options:se,onChange:function(e){var t=e?e.map((function(e){return e.value})):[];L(t)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"aboutMe",children:"About Me: "}),Object(d.jsx)("input",{className:"form-control form-control-lg",type:"text",name:"aboutMe",value:q,onChange:function(e){return I(e.target.value)}})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("button",{className:"btn btn-success btn-block col-12",type:"submit",children:"Sign Up \u270d\ufe0f"})}),Z&&Object(d.jsx)("h4",{children:Z})]})]})]})})]})})]})}function C(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(""),i=Object(l.a)(r,2),o=i[0],b=i[1],u=Object(c.useState)(""),m=Object(l.a)(u,2),h=m[0],O=m[1],x=Object(c.useState)(!1),f=Object(l.a)(x,2),p=f[0];f[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{className:"mt-4",children:"Login"}),Object(d.jsx)("div",{className:"row",children:Object(d.jsx)("div",{className:"col-md-6 offset-md-3 col-xl-4 offset-xl-4 mt-4 mb-5",children:Object(d.jsxs)("div",{className:"card shadow",children:[Object(d.jsx)("img",{src:"/tattoo-images/tattoo-girl-1.jpeg",alt:"tattoo-girl",className:"card-img-top"}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:"Enter your details here"}),Object(d.jsxs)("form",{novalidate:!0,validated:p,onSubmit:function(t){t.preventDefault(),console.log(s,o),function(e,t){return j.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))}(s,o).then((function(t){t.message?(n(""),b(""),O(t.message)):(e.setUser(t),"User"===t.role?e.history.push("/".concat(t._id,"/user-dashboard")):"Artist"===t.role&&e.history.push("/".concat(t._id,"/artist-profile")))})).catch((function(e){return console.log(e)}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"username",children:"Username: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"username",value:s,required:!0,onChange:function(e){return n(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"password",children:"Password (must be 4 characters min): "}),Object(d.jsx)("input",{className:"form-control",type:"password",name:"password",value:o,required:!0,onChange:function(e){return b(e.target.value)}})]}),Object(d.jsx)("button",{className:"btn btn-success col-12",type:"submit",children:"Log in \ud83d\udd11"}),h&&Object(d.jsx)("h3",{children:h})]})]})]})})})]})}function k(e){var t=Object(p.a)(),a=Object(c.useState)(null),s=Object(l.a)(a,2),n=s[0],r=s[1],o=Object(c.useState)(""),b=Object(l.a)(o,2),u=b[0],m=b[1],h=Object(c.useState)(""),O=Object(l.a)(h,2),x=O[0],g=O[1],v=Object(c.useState)(null),N=Object(l.a)(v,2),y=N[0],S=N[1],C=Object(c.useState)(0),k=Object(l.a)(C,2),F=k[0],U=k[1],A=Object(c.useState)(null),D=Object(l.a)(A,2),L=D[0],E=D[1],T=Object(c.useState)([]),R=Object(l.a)(T,2),P=R[0],_=R[1],M=Object(c.useState)([]),q=Object(l.a)(M,2),I=q[0],B=q[1],W=Object(c.useState)([]),J=Object(l.a)(W,2),V=J[0],Y=J[1],z=Object(c.useState)(!1),G=Object(l.a)(z,2),H=G[0],Q=G[1],Z=Object(c.useState)(""),$=Object(l.a)(Z,2),K=$[0],X=$[1],ee=Object(c.useState)(""),te=Object(l.a)(ee,2),ae=te[0],ce=te[1],se=Object(c.useState)(!0),ne=Object(l.a)(se,2),re=ne[0],le=ne[1],ie=Object(c.useState)(!1),oe=Object(l.a)(ie,2),je=oe[0],be=oe[1];Object(c.useEffect)((function(){j.a.get("/api/crud/".concat(e.match.params.id,"/user-dashboard")).then((function(e){console.log("this user",e.data),ce(e.data.profilePicture),X(e.data.favouriteStyles)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/all-artists").then((function(e){B(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/all-studios").then((function(e){_(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/user/collections").then((function(e){r(e.data)})).catch((function(e){return console.log(e)}))}),[]);if(Object(c.useEffect)((function(){j.a.get("/api/crud/user/appointments").then((function(e){Y(e.data.myAppointments)})).catch((function(e){return console.log(e)}))}),[]),null===n)return Object(d.jsx)(d.Fragment,{});return Object(d.jsxs)("div",{children:[re&&Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-3 offset-1 mt-3 ml-1",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"bg-dark bg-gradient text-white p-2 rounded",children:Object(d.jsxs)("h3",{children:["Welcome  ",e.user.username]})}),Object(d.jsx)("div",{className:"d-flex flex-column align-items-center justify-content-center mt-3",children:Object(d.jsx)("img",{src:ae,alt:"profile",style:{width:"300px"}})}),Object(d.jsxs)("div",{className:"card-body d-flex flex-column justify-content-center align-items-center",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Your favourite tattoo tyle/s:"})," ",e.user.favouriteStyles.map((function(e){return Object(d.jsx)("ul",{children:Object(d.jsx)("li",{children:e})})}))]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),le(!1),be(!0)},children:"Edit dashboard"})})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("h1",{children:"My Appointments"}),Object(d.jsx)("div",{className:"d-flex flex-column justify-content-center align-items-center",children:Object(d.jsx)("button",{className:"btn btn-success mb-4 mt-4 col-6",onClick:function(e){e.preventDefault(),Q(!H)},children:"Add a new appointment"})}),H&&Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("h1",{className:"text-center",children:"Add a new appointment"}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"card shadow",children:Object(d.jsx)("div",{className:"card-body",children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault(),j.a.put("/api/crud/".concat(e.match.params.id,"/appointments"),{date:u,time:x,location:y,price:F,artist:L}).then((function(e){return Y(e.data.myAppointments),e.data})).catch((function(e){return e.response.data}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"time",children:"Date: "}),Object(d.jsx)("input",{className:"form-control",type:"date",name:"date",value:u,required:!0,autoFocus:!0,onChange:function(e){return m(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"time",children:"Time: "}),Object(d.jsx)("input",{className:"form-control",type:"time",name:"time",value:x,required:!0,onChange:function(e){return g(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"location",children:"Studio: "}),Object(d.jsx)(f.a,{name:"location",components:t,options:P.map((function(e){return{value:"".concat(e._id),label:"".concat(e.name)}})),onChange:function(e){S(e.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"artist",children:"Artist: "}),Object(d.jsx)(f.a,{name:"artist",components:t,options:I.map((function(e){return{value:"".concat(e._id),label:"".concat(e.firstName," ").concat(e.lastName)}})),onChange:function(e){E(e.value)}}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"price",children:"Price (\u20ac): "}),Object(d.jsx)("input",{className:"form-control",type:"number",name:"price",value:F,required:!0,onChange:function(e){return U(e.target.value)}})]})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("button",{className:"btn btn-success btn-block col-12",type:"submit",children:"Add"})})]})})})})]}),V.map((function(e){return Object(d.jsxs)("div",{className:"d-flex flex-column",children:[Object(d.jsxs)("p",{children:["Artist:",Object(d.jsxs)(i.b,{to:"/".concat(e.artist._id,"/artist-profile"),children:[e.artist.firstName," ",e.artist.lastName]})]}),Object(d.jsxs)("p",{children:[" Studio:",Object(d.jsx)(i.b,{to:"/studio/".concat(e.location._id),children:e.location.name})]}),Object(d.jsxs)("p",{children:["Date: ",e.date]}),Object(d.jsxs)("p",{children:["Time: ",e.time]}),Object(d.jsxs)("p",{children:["Price: \u20ac",e.price]})]})}))]})]})}),Object(d.jsx)("div",{className:"col-7 mt-3",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"bg-dark bg-gradient col-12 text-white p-2 rounded",children:Object(d.jsx)("h2",{children:"Your collections:"})}),n.map((function(e){return Object(d.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center mt-3",children:[e.tattoos.slice(0,4).map((function(e){return Object(d.jsx)("div",{className:"p-1",children:Object(d.jsx)("img",{src:e.imageURL,style:{width:"100px",height:"100px"}})})})),Object(d.jsx)(i.b,{to:"/collections/".concat(e._id),children:Object(d.jsx)("p",{children:e.title})})]})}))]})})]}),je&&Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-3 offset-1 mt-3 ml-1",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"bg-dark bg-gradient text-white p-2 rounded",children:Object(d.jsxs)("h3",{children:["Welcome  ",e.user.username]})}),Object(d.jsxs)("div",{className:"d-flex flex-column align-items-center justify-content-center mt-3",children:[Object(d.jsx)("div",{className:"card-body d-flex flex-column justify-content-center align-items-center",children:Object(d.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a={favouriteStyles:K,profilePicture:ae};console.log("prof picture",ae),j.a.put("/api/crud/".concat(e.match.params.id,"/edit-user"),a).then((function(e){return le(!0),be(!1),console.log("new image",e.data),e.data})).catch((function(e){return e.response.data}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"profilePicture",children:"Profile picture: "}),Object(d.jsx)("input",{className:"form-control",type:"file",name:"profilePicture",onChange:function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageURL",e.target.files[0]),w(t).then((function(e){console.log("uploading",e.secure_url),ce(e.secure_url)})).catch((function(e){return console.log("Error when uploading the file: ",e)}))}}),ae&&Object(d.jsx)("img",{src:ae,alt:"",style:{height:"200px"}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"favouriteStyles",children:"Favourite tattoo styles: "}),Object(d.jsx)(f.a,{name:"favouriteStyles",components:t,isMulti:!0,options:[{value:"Traditional",label:"Traditional/Old School"},{value:"NeoTraditional",label:"Neo Traditional"},{value:"Stick & Poke",label:"Stick & Poke"},{value:"Tribal",label:"Tribal"},{value:"WaterColor",label:"Water Color"},{value:"Blackwork",label:"Blackwork"},{value:"Realism",label:"Realism"},{value:"Japanese",label:"Japanese"},{value:"Geometric",label:"Geometric"},{value:"MicroTattoo",label:"Micro Tattoo"},{value:"Abstract",label:"Abstract"},{value:"3D",label:"3D"},{value:"Cartoon",label:"Cartoon"},{value:"Portrait",label:"Portrait"},{value:"Continuous Line",label:"Continuous Line"},{value:"Animal",label:"Animal"},{value:"Sketch",label:"Sketch"},{value:"Other",label:"Other"}],onChange:function(e){var t=e?e.map((function(e){return e.value})):[];X(t)}})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("button",{className:"btn btn-success btn-block col-12",type:"submit",children:"Update"})})]})}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Your favourite tattoo tyle/s:"})," ",e.user.favouriteStyles.map((function(e){return Object(d.jsx)("ul",{children:Object(d.jsx)("li",{children:e})})}))]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn btn-primary",onClick:function(e){e.preventDefault(),le(!0),be(!1)},children:"Done"})})]}),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("h1",{children:"My Appointments"}),V.map((function(e){return Object(d.jsxs)("div",{className:"d-flex flex-column",children:[Object(d.jsxs)("p",{children:["Artist:",Object(d.jsxs)(i.b,{to:"/".concat(e.artist._id,"/artist-profile"),children:[e.artist.firstName," ",e.artist.lastName]})]}),Object(d.jsxs)("p",{children:[" Studio:",Object(d.jsx)(i.b,{to:"/studio/".concat(e.location._id),children:e.location.name})]}),Object(d.jsxs)("p",{children:["Date: ",e.date]}),Object(d.jsxs)("p",{children:["Time: ",e.time]}),Object(d.jsxs)("p",{children:["Price: \u20ac",e.price]}),Object(d.jsx)("button",{onClick:function(){!function(e){console.log(e),j.a.delete("/api/crud/user-dashboard/appointments/".concat(e)).then((function(e){return console.log("delete appointment",e.data),Y(e.data.myAppointments),e.data})).catch((function(e){return e.response.data}))}(e.date)},className:"btn btn-sm btn-danger",children:"Delete"})]})}))]})]})}),Object(d.jsx)("div",{className:"col-7 mt-3",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"bg-dark bg-gradient col-12 text-white p-2 rounded",children:Object(d.jsx)("h2",{children:"Your collections:"})}),n.map((function(e){return Object(d.jsxs)("div",{className:"d-flex flex-row justify-content-center align-items-center mt-3",children:[e.tattoos.slice(0,4).map((function(e){return Object(d.jsx)("div",{className:"p-1",children:Object(d.jsx)("img",{src:e.imageURL,style:{width:"100px",height:"100px"}})})})),Object(d.jsx)(i.b,{to:"/collections/".concat(e._id),children:Object(d.jsx)("p",{children:e.title})}),Object(d.jsx)("button",{onClick:function(){var t;t=e._id,console.log(t),j.a.delete("/api/crud/user-dashboard/collections/".concat(t)).then((function(e){return console.log("delete collection",e.data),r(n),e.data})).catch((function(e){return e.response.data}))},className:"btn btn-sm btn-danger",children:"Delete"})]})}))]})})]})]})}var F=a(66),U=["component","user","path","redirectPath"],A=function(e){var t=e.component,a=e.user,c=e.path,s=e.redirectPath,n=void 0===s?"/":s,l=Object(F.a)(e,U);return Object(d.jsx)(O.b,{exact:!0,path:c,render:function(e){return a?Object(d.jsx)(t,Object(r.a)(Object(r.a)(Object(r.a)({},e),l),{},{user:a})):Object(d.jsx)(O.a,{to:n})}})};a(110);function D(e){var t=Object(c.useState)(null),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)([]),o=Object(l.a)(r,2),b=o[0],u=o[1],m=Object(c.useState)(""),h=Object(l.a)(m,2),O=h[0],x=h[1],f=Object(c.useState)(0),p=Object(l.a)(f,2),g=p[0],v=p[1],w=Object(c.useState)([]),S=Object(l.a)(w,2),C=(S[0],S[1],Object(c.useState)([])),k=Object(l.a)(C,2),F=k[0],U=k[1],A=Object(c.useState)(""),D=Object(l.a)(A,2),L=(D[0],D[1],Object(c.useState)(null)),E=Object(l.a)(L,2),T=(E[0],E[1]),R=Object(c.useState)(""),P=Object(l.a)(R,2),_=P[0],M=P[1],q=Object(c.useState)(""),I=Object(l.a)(q,2),B=I[0],W=I[1],J=Object(c.useState)(""),V=Object(l.a)(J,2),Y=V[0],z=V[1],G=Object(c.useState)(""),H=Object(l.a)(G,2),Q=H[0],Z=H[1],$=Object(c.useState)(""),K=Object(l.a)($,2),X=K[0],ee=K[1],te=Object(c.useState)(""),ae=Object(l.a)(te,2),ce=ae[0],se=ae[1],ne=Object(c.useState)(!0),re=Object(l.a)(ne,2),le=re[0],ie=re[1],oe=Object(c.useState)(!1),je=Object(l.a)(oe,2),be=je[0],de=je[1],ue=Object(c.useState)(!1),me=Object(l.a)(ue,2),he=me[0],Oe=me[1],xe=Object(c.useState)(!1),fe=Object(l.a)(xe,2),pe=fe[0],ge=fe[1],ve=Object(c.useState)(""),Ne=Object(l.a)(ve,2),ye=Ne[0],we=Ne[1],Se=Object(c.useState)(""),Ce=Object(l.a)(Se,2),ke=Ce[0],Fe=Ce[1],Ue=Object(c.useState)(""),Ae=Object(l.a)(Ue,2),De=Ae[0],Le=Ae[1],Ee=Object(c.useState)(!0),Te=Object(l.a)(Ee,2),Re=Te[0];Te[1];Object(c.useEffect)((function(){j.a.get("/api/crud/".concat(e.match.params.id,"/artist-profile/user")).then((function(e){n(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/users").then((function(e){T(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/".concat(e.match.params.id,"/artist-profile")).then((function(e){u(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/".concat(e.match.params.id,"/artist-profile/reviews")).then((function(e){U(e.data)})).catch((function(e){return console.log(e)}))}),[]);var Pe=function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageURL",e.target.files[0]),N(t).then((function(e){we(e.secure_url)})).catch((function(e){return console.log("Error when uploading the file: ",e)}))};return null===s?Object(d.jsx)(d.Fragment,{children:" "}):Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"row bg-gradient",children:[Object(d.jsx)("div",{className:"col-4 offset-1 mt-3 ml-1",children:Object(d.jsxs)("div",{className:"card mb-3",children:[Object(d.jsxs)("h1",{children:[s.firstName,"'s profile"]}),Object(d.jsx)("img",{src:s.profilePicture,className:"card-img-top rounded mx-auto d-block",style:{width:"200px"}}),Object(d.jsxs)("div",{className:"card-body d-flex flex-column justify-content-start align-items-start offset-3",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Name:"})," ",s.firstName," ",s.lastName]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Bio:"})," ",s.aboutMe]}),Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"Tattoo Style/s:"})," ",s.tattooStyle.map((function(e){return Object(d.jsx)("ul",{children:Object(d.jsx)("li",{children:e})})}))]})]}),Object(d.jsx)("button",{className:"btn btn-success col-8 mb-2 mx-auto d-block",onClick:function(e){e.preventDefault(),ie(!0),de(!1),Oe(!1),ge(!1)},children:"View work"}),Object(d.jsx)("button",{className:"btn btn-success col-8 mb-2 mx-auto d-block",onClick:function(e){e.preventDefault(),de(!0),ie(!1),Oe(!1),ge(!1)},children:"Reviews"}),Object(d.jsx)("button",{className:"btn btn-success col-8 mb-2 mx-auto d-block",onClick:function(e){e.preventDefault(),de(!1),ie(!1),Oe(!0),ge(!1)},children:"Booking form"}),Object(d.jsx)("button",{className:"btn btn-success col-8 mb-2 mx-auto d-block",onClick:function(e){e.preventDefault(),ge(!0),de(!1),ie(!1),Oe(!1)},children:"Upload an image"})]})}),be&&Object(d.jsxs)("div",{className:"col-6 mt-3 card mb-3",children:[Object(d.jsx)("img",{src:"/tattoo-images/tattoo-arm-4.jpg",alt:"tattoo-girl",className:"card-img-top"}),Object(d.jsx)("h2",{className:"mt-4",children:"LEAVE A REVIEW"}),Object(d.jsxs)("form",{className:"mb-3",onSubmit:function(t){t.preventDefault(),j.a.post("/api/crud/".concat(e.match.params.id,"/artist-profile/reviews"),{reviewText:O,rating:g}).then((function(e){x(""),v(0),M("Your review has been posted!"),console.log("response data",e.data),U(e.data.reviews)})).catch((function(e){return e.response.data}))},children:[Object(d.jsx)("div",{className:"mb-3 offset-4",children:Object(d.jsxs)("fieldset",{className:"starability-fade",children:[Object(d.jsx)("legend",{children:"Rating:"}),Object(d.jsx)("input",{type:"radio",id:"no-rate",className:"input-no-rate",name:"rating",value:"0",checked:!0,"aria-label":"No rating."}),Object(d.jsx)("input",{type:"radio",id:"first-rate1",name:"review[rating]",value:"1",onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate1",title:"Terrible",children:"1 star"}),Object(d.jsx)("input",{type:"radio",id:"first-rate2",name:"review[rating]",value:"2",onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate2",title:"Not good",children:"2 stars"}),Object(d.jsx)("input",{type:"radio",id:"first-rate3",name:"review[rating]",value:"3",onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate3",title:"Average",children:"3 stars"}),Object(d.jsx)("input",{type:"radio",id:"first-rate4",name:"review[rating]",value:"4",onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate4",title:"Very good",children:"4 stars"}),Object(d.jsx)("input",{type:"radio",id:"first-rate5",name:"review[rating]",value:"5",onChange:function(e){return v(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate5",title:"Amazing",children:"5 stars"})]})}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"body",children:"Your review:"}),Object(d.jsx)("textarea",{className:"form-control",name:"review[body]",cols:"30",rows:"3",value:O,onChange:function(e){return x(e.target.value)},required:!0})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn btn-success col-6",type:"submit",children:"Submit your review"})}),_&&Object(d.jsx)("h4",{children:_})]}),F.map((function(e){return Object(d.jsx)("div",{className:"card align-content-center mb-3 d-flex flex-column justify-content-center align-items-center",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("h5",{className:"card-title",children:["Username: ",e.reviewAuthorUsername]}),Object(d.jsxs)("p",{class:"starability-result","data-rating":"".concat(e.rating),children:["Rated: ","".concat(e.rating)," stars"]}),Object(d.jsxs)("p",{className:"card-text",children:["Review: ",e.reviewText]}),Re&&Object(d.jsx)("button",{onClick:function(){var t;t=e._id,console.log("this id",t),j.a.delete("/api/crud/artist-profile/reviews/".concat(t))},className:"btn btn-sm btn-danger",children:"Delete"})]})})}))]}),le&&Object(d.jsxs)("div",{className:"col-6 mt-3 card mb-3",children:[Object(d.jsxs)("h2",{children:[s.firstName,"'s tattoos"]}),Object(d.jsx)("div",{className:"d-flex flex-wrap",children:b.map((function(e){return Object(d.jsx)("div",{className:"",children:Object(d.jsx)(i.b,{to:"/tattoos/".concat(e._id),children:Object(d.jsx)("img",{className:"img-thumbnail img-fluid",src:e.imageURL,style:{width:"220px",height:"220px"}})})})}))})]}),he&&Object(d.jsx)("div",{className:"col-6",children:Object(d.jsxs)("div",{className:"card shadow mt-3",children:[Object(d.jsx)("img",{src:"/tattoo-images/tattoo-arm-4.jpg",alt:"tattoo-girl",className:"card-img-top"}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h3",{className:"card-title",children:"Send a booking request"}),Object(d.jsxs)("form",{onSubmit:function(e){W("Your request has been sent!"),z(""),Z(""),ee(""),se("")},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"username",children:"Where do you want the tattoo? "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"bodyPart",value:Y,required:!0,autoFocus:!0,onChange:function(e){return z(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"tattooSize",children:"Roughly what size would you like it? "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"size",value:Q,required:!0,onChange:function(e){return Z(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"tattooDescription",children:"Describe your idea "}),Object(d.jsx)("input",{className:"form-control",type:"text-area",name:"size",value:X,required:!0,onChange:function(e){return ee(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"profilePicture",children:"Add reference images "}),Object(d.jsx)("input",{className:"form-control",type:"file",name:"rerefenceImage",onChange:Pe}),ce&&Object(d.jsx)("img",{src:ce,alt:"",style:{height:"200px"}})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("button",{className:"btn btn-success btn-block col-12",type:"submit",children:"Send request"})}),B&&Object(d.jsx)("h3",{children:B})]})]})]})}),pe&&Object(d.jsx)("div",{className:"col-6",children:Object(d.jsxs)("div",{className:"card shadow mt-3",children:[Object(d.jsx)("img",{src:"/tattoo-images/tattoo-arm-4.jpg",alt:"tattoo-girl",className:"card-img-top"}),Object(d.jsxs)("div",{clasName:"card-body",children:[Object(d.jsx)("h1",{className:"text-center card-title",children:"New image"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),y(ye,ke,De).then((function(e){we(e.imageURL)})).catch((function(e){return console.log(e)})),j.a.post("/api/crud/tattoos/create",{imageURL:ye,caption:ke,tags:De}).then((function(e){console.log(e),we(e.imageURL),u(e.data.artistCollection),ie(!0),de(!1),Oe(!1),ge(!1)})).catch((function(e){return e.response.data}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"image",children:"Upload your work: "}),Object(d.jsx)("input",{className:"form-control",type:"file",name:"imageURL",onChange:Pe}),ye&&Object(d.jsx)("img",{src:ye,alt:"",style:{height:"200px"}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"caption",children:"Caption: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"caption",value:ke,onChange:function(e){return Fe(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"tags",children:"Tags (separate each tag with a comma): "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"tags",onChange:function(e){var t=e.target.value.split(",");Le(t)}})]}),Object(d.jsx)("button",{className:"btn btn-success btn-block col-5 mb-5",type:"submit",children:"Upload \u270d\ufe0f"})]})]})]})})]})})}function L(){return Object(d.jsx)("footer",{className:"footer bg-dark py-3 mt-auto",children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("span",{className:"text-muted",children:"\xa9 Tattoo Finder 2021"})})})}function E(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],n=Object(c.useState)(""),r=Object(l.a)(n,2),o=r[0],b=r[1],u=Object(c.useState)(""),m=Object(l.a)(u,2),h=m[0],O=m[1];console.log("theArtists",a),Object(c.useEffect)((function(){j.a.get("/api/crud/all-artists").then((function(e){s(e.data)})).catch((function(e){return console.log(e)}))}),[]);if(a===[])return Object(d.jsx)(d.Fragment,{});return a===[]?Object(d.jsx)(d.Fragment,{}):Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("h1",{children:"Find an Artist"}),Object(d.jsx)("div",{className:"col-6 offset-3",children:Object(d.jsx)("h4",{children:"Browse through the list of our registered artists to find the perfect match for your next tattoo idea. Click on the image below to view their profile"})}),Object(d.jsxs)("div",{className:"d-flex p5 justify-content-center align-items-center ",children:[Object(d.jsxs)("div",{className:"p5",children:[Object(d.jsx)("label",{children:"Search by name:\xa0 "}),Object(d.jsx)("input",{type:"text",name:"search",id:"search",value:o,placeholder:"e.g John Smith",onChange:function(e){e.preventDefault(),b(e.target.value);var t=a.filter((function(e){return"".concat(e.firstName).concat(e.lastName).toLowerCase().includes(o.toLowerCase())}));s(t)}})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{children:"Search by style: \xa0"}),Object(d.jsx)("input",{type:"text",name:"search",id:"search",value:h,placeholder:"e.g Traditional",onChange:function(e){e.preventDefault(),O(e.target.value);var t=a.filter((function(e){return"".concat(e.tattooStyle).toLowerCase().includes(h.toLowerCase())}));s(t)}})]})]}),Object(d.jsx)("div",{className:"col-10 offset-1 d-flex flex-wrap justify-content-center",children:a.map((function(e){return Object(d.jsxs)("div",{className:"p-4",children:[Object(d.jsxs)(i.b,{to:"/".concat(e._id,"/artist-profile"),children:[Object(d.jsx)("img",{className:"artist-image rounded border border-dark shadow",src:e.profilePicture,style:{width:"300px",height:"400px"}}),Object(d.jsxs)("p",{children:[" ",e.firstName," ",e.lastName]})]}),Object(d.jsxs)("div",{className:"d-flex flex-row align-items-center justify-content-center",children:[Object(d.jsx)("p",{children:Object(d.jsx)("strong",{children:"Style/s:  "})}),e.tattooStyle.map((function(e){return Object(d.jsxs)("p",{children:[" \xa0 ",e,". "]})}))]})]})}))})]})}var T=a(26),R=a.n(T);function P(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=(a[0],a[1],Object(c.useState)("")),n=Object(l.a)(s,2),r=(n[0],n[1],Object(c.useState)("")),o=Object(l.a)(r,2),b=(o[0],o[1],Object(c.useState)([])),u=Object(l.a)(b,2),m=(u[0],u[1],Object(c.useState)("")),h=Object(l.a)(m,2),O=(h[0],h[1],Object(c.useState)({})),x=Object(l.a)(O,2),f=(x[0],x[1],Object(c.useState)([])),p=Object(l.a)(f,2),g=p[0],v=p[1],N=Object(c.useState)(""),y=Object(l.a)(N,2),w=y[0],S=y[1];console.log("theStudios",g),Object(c.useEffect)((function(){j.a.get("/api/crud/all-studios").then((function(e){v(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"mt-5",children:[Object(d.jsx)("h1",{children:"Find a Studio"}),Object(d.jsxs)("div",{className:"col-6 offset-3",children:[Object(d.jsx)("h3",{children:"All participating studios are listed below"}),Object(d.jsxs)("h5",{children:["Would you like to add a new studio? ",Object(d.jsx)(i.b,{to:"/new-studio",children:"Click here"})]})]}),Object(d.jsx)("input",{type:"text",name:"search",id:"search",value:w,placeholder:"Search By Name",onChange:function(e){e.preventDefault(),S(e.target.value);var t=g.filter((function(e){return"".concat(e.name).toLowerCase().includes(w.toLowerCase())}));v(t)}}),Object(d.jsx)("div",{className:"mt-5 mb-5 d-flex flex-wrap justify-content-start align-items-start",children:g.map((function(e){return Object(d.jsx)("div",{className:"col-4 mb-5 offset-1 card bg-dark bg-gradient text-white border-dark",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsx)("img",{className:"img-fluid rounded mt-2 mb-2 border-light p-2",src:e.imageURL,style:{height:"200px"}})}),Object(d.jsx)("div",{className:"col-md-6",children:Object(d.jsxs)("div",{className:"card-body mt-5",children:[Object(d.jsxs)("h4",{className:"card-title",children:[" ",e.name]}),Object(d.jsxs)("p",{className:"card-text",children:[" ",e.location]}),Object(d.jsx)("button",{className:"btn btn-light text-dark",children:Object(d.jsx)(i.b,{className:"text-dark",to:"/studio/".concat(e._id),children:"View this studio"})})]})})]})})}))})]})})}function _(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(""),i=Object(l.a)(r,2),o=i[0],b=i[1],u=Object(c.useState)(""),m=Object(l.a)(u,2),h=m[0],O=m[1],x=Object(c.useState)(""),f=Object(l.a)(x,2),p=f[0],g=f[1];return Object(d.jsx)("div",{className:"signupPage",children:Object(d.jsx)("div",{className:"container d-flex justify-content-center align-items-center mt-5 mb-5",children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("h1",{className:"text-center",children:"Add a new Studio"}),Object(d.jsx)("div",{className:"col-md-6 offset-md-3 col-xl-6 offset-xl-3",children:Object(d.jsxs)("div",{className:"card shadow",children:[Object(d.jsx)("img",{src:"/tattoo-images/tattoo-sign-1.jpeg",alt:"tattoo-girl",className:"card-img-top"}),Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h5",{className:"card-title",children:"Enter the details here"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j.a.post("/api/crud/new-studio",{name:s,location:o,description:h,imageURL:p}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"name",children:"Name: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"name",value:s,required:!0,autoFocus:!0,onChange:function(e){return n(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"location",children:"Location: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"location",value:o,required:!0,onChange:function(e){return b(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"description",children:"About the studio: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"description",value:h,required:!0,onChange:function(e){return O(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"imageURL",children:"Profile picture: "}),Object(d.jsx)("input",{className:"form-control",type:"file",name:"imageURL",onChange:function(e){console.log("The file to be uploaded is: ",e.target.files[0]);var t=new FormData;t.append("imageURL",e.target.files[0]),N(t).then((function(e){g(e.secure_url)})).catch((function(e){return console.log("Error when uploading the file: ",e)}))}}),p&&Object(d.jsx)("img",{src:p,alt:"",style:{height:"200px"}})]}),Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("button",{className:"btn btn-success btn-block col-12",type:"submit",children:"Sign Up \u270d\ufe0f"})})]})]})]})})]})})})}function M(e){var t=Object(c.useState)(""),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)(0),o=Object(l.a)(r,2),b=o[0],u=o[1],m=Object(c.useState)([]),h=Object(l.a)(m,2),O=(h[0],h[1],Object(c.useState)([])),x=Object(l.a)(O,2),f=x[0],p=x[1],g=Object(c.useState)(""),v=Object(l.a)(g,2),N=v[0],y=(v[1],Object(c.useState)("")),w=Object(l.a)(y,2),S=(w[0],w[1]),C=Object(c.useState)(!0),k=Object(l.a)(C,2),F=k[0],U=k[1],A=Object(c.useState)(!1),D=Object(l.a)(A,2),L=D[0],E=D[1],T=Object(c.useRef)(null),P=Object(c.useRef)(null),_=Object(c.useState)(0),M=Object(l.a)(_,2),q=M[0],I=M[1],B=Object(c.useState)(0),W=Object(l.a)(B,2),J=W[0],V=W[1],Y=Object(c.useState)(9),z=Object(l.a)(Y,2);z[0],z[1];Object(c.useEffect)((function(){j.a.get("/api/crud/studio/".concat(e.match.params.id,"/reviews")).then((function(e){console.log("reviews",e.data),p(e.data)})).catch((function(e){return console.log(e)}))}),[]);var G=Object(c.useState)(""),H=Object(l.a)(G,2),Q=H[0],Z=H[1],$=Object(c.useState)(""),K=Object(l.a)($,2),X=K[0],ee=K[1],te=Object(c.useState)(""),ae=Object(l.a)(te,2),ce=ae[0],se=ae[1],ne=Object(c.useState)([]),re=Object(l.a)(ne,2),le=re[0],ie=re[1],oe=Object(c.useState)(""),je=Object(l.a)(oe,2),be=je[0],de=je[1];Object(c.useEffect)((function(){j.a.get("/api/crud/studio/".concat(e.match.params.id)).then((function(e){console.log("geography",e.data[0].geometry.coordinates),Z(e.data[0].name),ee(e.data[0].location),se(e.data[0].description),de(e.data[0].imageURL),I(e.data[0].geometry.coordinates[0]),V(e.data[0].geometry.coordinates[1])})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/studios/".concat(e.match.params.id)).then((function(e){ie(e.data),console.log("studioartists",e.data)})).catch((function(e){return console.log(e)}))}),[]),Object(c.useEffect)((function(){0!==q&&(P.current=new R.a.Map({container:T.current,style:"mapbox://styles/stephengallagher/ckufe62dp408217mvz6kmroo5",center:[q,J],zoom:14}),(new R.a.Marker).setLngLat([q,J]).addTo(P.current))}),[J]);if(null===T)return Object(d.jsx)(d.Fragment,{});if(""===Q)return Object(d.jsx)(d.Fragment,{});return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"sidebar",children:Object(d.jsx)("div",{ref:T,className:"mapContainer",style:{height:"200px"}})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-4 offset-1 mt-3 ml-1",children:Object(d.jsxs)("div",{className:"card mb-3",children:[Object(d.jsx)("img",{src:be,className:"card-img-top rounded mx-auto d-block mt-3",style:{width:"250px"}}),Object(d.jsx)("h2",{className:"card-title",children:Q}),Object(d.jsx)("h5",{children:X}),Object(d.jsx)("div",{className:"card-body d-flex flex-column justify-content-start align-items-start p-5",children:Object(d.jsxs)("p",{children:[Object(d.jsx)("strong",{children:"About:"})," ",ce]})}),Object(d.jsx)("button",{className:"btn btn-success col-8 mb-2 mx-auto d-block",onClick:function(e){e.preventDefault(),U(!0),E(!1)},children:"Artists at the studio"}),Object(d.jsx)("button",{className:"btn btn-success col-8 mb-2 mx-auto d-block",onClick:function(e){e.preventDefault(),U(!1),E(!0)},children:"Reviews"})]})}),F&&Object(d.jsx)("div",{className:"col-6 mt-3 mb-3",children:Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("div",{className:"bg-dark col-12 text-white p-2 rounded",children:Object(d.jsx)("h4",{children:"Artists at this studio"})}),Object(d.jsx)("form",{onSubmit:function(t){t.preventDefault(),j.a.put("/api/crud/studio/".concat(e.match.params.id)).then((function(e){return console.log("joindata",e.data),ie(e.data.artists),e.data})).catch((function(e){return e.response.data}))},children:Object(d.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Join this studio"})}),Object(d.jsx)("div",{className:"d-flex flex-wrap align-items-center justify-content-center",children:le.map((function(e){return Object(d.jsx)("div",{className:"p-2",children:Object(d.jsxs)(i.b,{to:"/".concat(e._id,"/artist-profile"),children:[Object(d.jsx)("img",{className:"artist-image rounded border border-dark shadow",src:e.profilePicture,style:{width:"150px",height:"250px"}}),Object(d.jsxs)("p",{children:[" ",e.firstName," ",e.lastName]})]})})}))})]})}),L&&Object(d.jsxs)("div",{className:"col-6 mt-3 card mb-3",children:[Object(d.jsx)("h2",{className:"mt-4",children:"LEAVE A REVIEW"}),Object(d.jsxs)("form",{className:"mb-3",onSubmit:function(t){t.preventDefault(),j.a.post("/api/crud/studio/".concat(e.match.params.id,"/reviews"),{reviewText:s,rating:b,reviewAuthorUsername:N}).then((function(e){return console.log("reviewData",e.data),n(""),u(0),S("Your review has been posted!"),console.log("response data",e.data),p(e.data.reviews),e.data})).catch((function(e){return e.response.data}))},children:[Object(d.jsx)("div",{className:"mb-3 offset-4",children:Object(d.jsxs)("fieldset",{className:"starability-fade",children:["w        ",Object(d.jsx)("legend",{children:"Rating:"}),Object(d.jsx)("input",{type:"radio",id:"no-rate",className:"input-no-rate",name:"rating",value:"0",checked:!0,"aria-label":"No rating."}),Object(d.jsx)("input",{type:"radio",id:"first-rate1",name:"review[rating]",value:"1",onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate1",title:"Terrible",children:"1 star"}),Object(d.jsx)("input",{type:"radio",id:"first-rate2",name:"review[rating]",value:"2",onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate2",title:"Not good",children:"2 stars"}),Object(d.jsx)("input",{type:"radio",id:"first-rate3",name:"review[rating]",value:"3",onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate3",title:"Average",children:"3 stars"}),Object(d.jsx)("input",{type:"radio",id:"first-rate4",name:"review[rating]",value:"4",onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate4",title:"Very good",children:"4 stars"}),Object(d.jsx)("input",{type:"radio",id:"first-rate5",name:"review[rating]",value:"5",onChange:function(e){return u(e.target.value)}}),Object(d.jsx)("label",{for:"first-rate5",title:"Amazing",children:"5 stars"})]})}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"body",children:"Your review:"}),Object(d.jsx)("textarea",{className:"form-control",name:"review[body]",cols:"30",rows:"3",value:s,onChange:function(e){return n(e.target.value)},required:!0})]}),Object(d.jsx)("button",{className:"btn btn-success col-6",type:"submit",children:"Submit your review"})]}),f.map((function(e){return Object(d.jsx)("div",{className:"card col-10 align-content-center mb-3 d-flex flex-column justify-content-center align-items-center",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsxs)("h5",{className:"card-title",children:["Username: ",e.reviewAuthorUsername]}),Object(d.jsxs)("p",{class:"starability-result","data-rating":"".concat(e.rating),children:["Rated: ","".concat(e.rating)," stars"]}),Object(d.jsxs)("p",{className:"card-text",children:["Review: ",e.reviewText]}),Object(d.jsx)("button",{onClick:function(){var t;t=e._id,j.a.delete("/api/crud/studio/reviews/".concat(t))},className:"btn btn-sm btn-danger",children:"Delete"})]})})}))]})]})]})}function q(e){var t=Object(c.useState)(!1),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({}),o=Object(l.a)(r,2),b=o[0],u=o[1],m=Object(c.useState)({}),h=Object(l.a)(m,2),O=(h[0],h[1]),x=Object(c.useState)(""),g=Object(l.a)(x,2),v=g[0],N=g[1],y=Object(c.useState)(""),w=Object(l.a)(y,2),S=w[0],C=w[1],k=Object(c.useState)([]),F=Object(l.a)(k,2),U=F[0],A=F[1],D=Object(c.useState)([]),L=Object(l.a)(D,2),E=L[0],T=L[1];Object(c.useEffect)((function(){j.a.get("/api/crud/users").then((function(e){O(e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/tattoos/".concat(e.match.params.id)).then((function(e){u(e.data),console.log("tattoo",e.data)})).catch((function(e){return console.log(e)}))}),[]);Object(c.useEffect)((function(){j.a.get("/api/crud/user/collections").then((function(e){A(e.data)})).catch((function(e){return console.log(e)}))}),[]);var R=Object(p.a)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("h1",{children:"Artist's collection"}),Object(d.jsx)("div",{className:"col-5 offset-1",children:Object(d.jsxs)("div",{className:"card mb-3",children:[Object(d.jsx)("img",{src:b.imageURL,className:"card-img"}),Object(d.jsx)("div",{className:"card-body",children:Object(d.jsx)("h4",{children:b.caption})})]})}),Object(d.jsx)("div",{className:"col-6",children:Object(d.jsxs)("div",{className:"card mb-3",children:[Object(d.jsx)("h2",{children:"Add to your collection"}),Object(d.jsxs)("form",{className:"mb-3",onSubmit:function(t){t.preventDefault(),j.a.put("/api/crud/tattoos/".concat(e.match.params.id),{selectedCollection:E}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"selectedCollection",children:"Add to your collection "}),Object(d.jsx)(f.a,{name:"selectedCollection",components:R,isMulti:!0,options:U.map((function(e){return{value:"".concat(e.title),label:"".concat(e.title)}})),onChange:function(e){var t=e?e.map((function(e){return e.value})):[];T(t),console.log("the new array",t),console.log("the state",E)}})]}),Object(d.jsx)("button",{className:"btn btn-success col-6",type:"submit",children:"Add"})]}),Object(d.jsx)("div",{className:"d-flex flex-column align-items-center",children:Object(d.jsx)("button",{className:"btn btn-primary col-6",onClick:function(e){e.preventDefault(),n(!s)},children:"Create a new collection"})}),s&&Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("h2",{children:"Create a collection"}),Object(d.jsxs)("form",{className:"mb-3",onSubmit:function(e){e.preventDefault(),j.a.post("/api/crud/collections/new",{title:v,description:S}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},children:[Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"username",children:"Collection name: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"title",value:v,required:!0,autoFocus:!0,onChange:function(e){return N(e.target.value)}})]}),Object(d.jsxs)("div",{className:"mb-3",children:[Object(d.jsx)("label",{className:"form-label",htmlFor:"username",children:"Description: "}),Object(d.jsx)("input",{className:"form-control",type:"text",name:"description",value:S,required:!0,autoFocus:!0,onChange:function(e){return C(e.target.value)}})]}),Object(d.jsx)("button",{className:"btn btn-success col-6",type:"submit",children:"Create"})]})]}),Object(d.jsx)("div",{children:Object(d.jsx)("button",{className:"btn btn-danger col-6 mt-5",children:Object(d.jsx)(i.b,{to:"/".concat(b.artist,"/artist-profile"),style:{color:"white"},children:"Back to artist profile"})})})]})})]})})}function I(e){var t=Object(c.useState)(null),a=Object(l.a)(t,2),s=a[0],n=a[1],r=Object(c.useState)({}),i=Object(l.a)(r,2),o=(i[0],i[1]);Object(c.useEffect)((function(){j.a.get("/api/crud/users").then((function(e){o(e.data),console.log("user",e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(c.useEffect)((function(){j.a.get("/api/crud/collections/".concat(e.match.params.id)).then((function(e){n(e.data),console.log("collection info",e.data)})).catch((function(e){return console.log(e)}))}),[]),null===s?Object(d.jsx)(d.Fragment,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("p",{children:s.title}),s.tattoos.map((function(e){return Object(d.jsx)("img",{src:e.imageURL})}))]})}R.a.accessToken="pk.eyJ1Ijoic3RlcGhlbmdhbGxhZ2hlciIsImEiOiJja25mdmVwN2wxYzd0Mm9vN3A2bjV1a2U1In0.2-AsAryWffIh9UqbCHW_GQ",R.a.accessToken="pk.eyJ1Ijoic3RlcGhlbmdhbGxhZ2hlciIsImEiOiJja25mdmVwN2wxYzd0Mm9vN3A2bjV1a2U1In0.2-AsAryWffIh9UqbCHW_GQ";var B=function(e){var t=Object(c.useState)(e.user),a=Object(l.a)(t,2),s=a[0],n=a[1],i=function(e){n(e)};return console.log("user: ",s),Object(d.jsxs)("div",{className:"App d-flex flex-column vh-100",children:[Object(d.jsx)(u,{user:s,setUser:i}),Object(d.jsxs)(O.d,{children:[Object(d.jsx)(O.b,{exact:!0,path:"/",render:function(e){return Object(d.jsx)(h,Object(r.a)(Object(r.a)({setUser:i},e),{},{user:s}))}}),Object(d.jsx)(O.b,{exact:!0,path:"/explore",render:function(e){return Object(d.jsx)(m,Object(r.a)(Object(r.a)({setUser:i},e),{},{user:s}))}}),Object(d.jsx)(O.b,{exact:!0,path:"/signup",render:function(e){return Object(d.jsx)(S,Object(r.a)({setUser:i},e))}}),Object(d.jsx)(O.b,{exact:!0,path:"/login",render:function(e){return Object(d.jsx)(C,Object(r.a)({setUser:i},e))}}),Object(d.jsx)(A,{exact:!0,path:"/:id/user-dashboard",user:s,component:k}),Object(d.jsx)(O.b,{exact:!0,path:"/:id/artist-profile",render:function(e){return Object(d.jsx)(D,Object(r.a)(Object(r.a)({setUser:i},e),{},{user:s}))}}),Object(d.jsx)(O.b,{exact:!0,path:"/all-artists",render:function(e){return Object(d.jsx)(E,Object(r.a)(Object(r.a)({setUser:i},e),{},{user:s}))}}),Object(d.jsx)(O.b,{exact:!0,path:"/new-studio",render:function(e){return Object(d.jsx)(_,Object(r.a)({setUser:i},e))}}),Object(d.jsx)(O.b,{exact:!0,path:"/all-studios",render:function(e){return Object(d.jsx)(P,Object(r.a)(Object(r.a)({setUser:i},e),{},{user:s}))}}),Object(d.jsx)(O.b,{exact:!0,path:"/studio/:id",render:function(e){return Object(d.jsx)(M,Object(r.a)(Object(r.a)({setUser:i},e),{},{user:s}))}}),Object(d.jsx)(O.b,{exact:!0,path:"/tattoos/:id",render:function(e){return Object(d.jsx)(q,Object(r.a)({setUser:i},e))}}),Object(d.jsx)(O.b,{exact:!0,path:"/collections/:id",render:function(e){return Object(d.jsx)(I,Object(r.a)({setUser:i},e))}})]}),Object(d.jsx)(L,{})]})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,132)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};a(128);j.a.get("/api/auth/loggedin").then((function(e){console.log("logged in user: ",e.data);var t=e.data;n.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(B,{user:t})}),document.getElementById("root"))})),n.a.render(Object(d.jsx)(i.a,{children:Object(d.jsx)(B,{})}),document.getElementById("root")),W()},72:function(e,t,a){},73:function(e,t,a){}},[[129,1,2]]]);
//# sourceMappingURL=main.befbe59f.chunk.js.map